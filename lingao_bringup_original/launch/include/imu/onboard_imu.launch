<launch>

    <!-- Arguments -->
    <arg name="chassis_model" default="$(optenv LINGAO_MODEL MiniUGV-20A)" doc="model type [MiniUGV-10A, MiniUGV-20A, LAUGV-50A ...]"/>

    <!-- Filter and fuse raw imu data -->
    <node pkg="imu_filter_madgwick" type="imu_filter_node" name="imu_filter_madgwick" output="screen" respawn="false" >
        <param name="fixed_frame" value="base_link" />
        <param name="use_mag" value="false" />
        <param name="gain" value="0.05" />
        <param name="publish_tf" value="false" />
        <param name="use_magnetic_field_msg" value="false" /> 
        <param name="world_frame" value="enu" />
        <param name="orientation_stddev" value="0.1" />
        <param name="publish_debug_topics" value="false" />

        <remap from="imu/data_raw" to="/imu/onboard_imu" />
    </node>
        
    <!-- Publish static transform of the laser. Define your sensor offset here -->
    <node pkg="tf2_ros" if="$(eval chassis_model == 'MiniUGV-10A')"     type="static_transform_publisher" name="base_link_to_imu" args="0.0     0   0.06    0 0 0  /base_link /imu_link"/>
    <node pkg="tf2_ros" if="$(eval chassis_model == 'MiniUGV-20A')"     type="static_transform_publisher" name="base_link_to_imu" args="0.0     0   0.1     0 0 0  /base_link /imu_link"/>
    <node pkg="tf2_ros" if="$(eval chassis_model == 'LAUGV-50A')"       type="static_transform_publisher" name="base_link_to_imu" args="0.0     0   0.06    0 0 0  /base_link /imu_link"/>

</launch>
