<launch>

    <!-- Arguments -->
    <arg name="chassis_model" default="$(optenv LINGAO_MODEL MiniUGV-20A)" doc="model type [MiniUGV-10A, MiniUGV-20A, LAUGV-50A ...]"/>

    <node name="rplidar_node" pkg="rplidar_ros" type="rplidarNode" output="screen">
        <param name="serial_port" type="string" value="/dev/rplidar"/>  
        <param name="serial_baudrate" type="int" value="115200"/><!--A3 S1 set 256000-->
        <param name="frame_id" type="string" value="laser_link"/>
        <param name="inverted" type="bool" value="false"/>
        <param name="angle_compensate" type="bool" value="true"/>
        
        <!-- SET Rplidar A2 8K Mode -->
        <!-- <param name="scan_mode"  type="string"  value="Boost"/>  -->

    </node>

    <!-- Publish static transform of the laser. Define your sensor offset here -->
    <node pkg="tf2_ros" if="$(eval chassis_model == 'MiniUGV-20A')" type="static_transform_publisher" name="base_link_to_laser" args="0.053 0 0.354 0 0 0  /base_link /laser_link"/>
    <node pkg="tf2_ros" if="$(eval chassis_model == 'LAUGV-50A')" type="static_transform_publisher" name="base_link_to_laser" args="0.185 0 0.373 0 0 0  /base_link /laser_link"/>

</launch>
